/**
 ******************************************************************************
 * @file           : main.c
 * @author         : Mico Santiago
 * @brief          : How to use the peripheral clock
 ******************************************************************************
 *	1. how do you check this is working?
 *		After debug mode, window > show view > SFRs
 *			ADC1 > CR1 > SCAN
 ******************************************************************************
 */
#include <stdint.h>

#define RCC_BASE       0x40023800UL
#define RCC_APB2ENR    (*(volatile uint32_t*)(RCC_BASE + 0x44))
#define ADC1EN         (1 << 8)

#define ADC_BASE       0x40012000UL
#define ADC_CR1        (*(volatile uint32_t*)(ADC_BASE + 0x04))
#define ADC_CR1_AWDEN  (1 << 8)

int main(void)
{
    RCC_APB2ENR |= ADC1EN;       // Enable ADC1 clock
    ADC_CR1 |= ADC_CR1_AWDEN;    // Set bit 8

    for(;;);
}
